* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --sqdc-black: #000000;
    --sqdc-yellow: #FFD700;
    --sqdc-light-yellow: #FFED4E;
    --sqdc-gray: #1a1a1a;
    --sqdc-light-gray: #2a2a2a;
    --indica-color: #5BA8D4;
    --sativa-color: #FFD700;
    --oz28-color: #FF8C00;
    --hybride-color: #4CAF50;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--sqdc-black);
    color: white;
    min-height: 100vh;
}

header {
    background-color: var(--sqdc-black);
    padding: 1.5rem 2rem;
    border-bottom: 3px solid var(--sqdc-yellow);
}

.header-content {
    max-width: 1600px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo-section {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.sqdc-logo {
    font-size: 2rem;
    font-weight: bold;
    color: var(--sqdc-yellow);
    letter-spacing: 2px;
}

h1 {
    font-size: 1.5rem;
    font-weight: 600;
    color: white;
}

.store-info {
    font-size: 1.1rem;
    color: white;
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

.print-lists-link {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    border: 2px solid var(--sqdc-yellow);
}

.print-lists-link:hover {
    background-color: var(--sqdc-light-yellow);
    border-color: var(--sqdc-light-yellow);
}

.store-label {
    font-weight: 600;
    background-color: var(--sqdc-gray);
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    font-size: 0.9rem;
}

.drawer-count-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background-color: var(--sqdc-gray);
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    font-size: 0.9rem;
}

.drawer-count-control label {
    font-weight: 600;
    color: var(--sqdc-light-yellow);
}

.drawer-count-control input {
    width: 50px;
    padding: 0.2rem 0.4rem;
    border: 1px solid var(--sqdc-yellow);
    border-radius: 3px;
    background-color: var(--sqdc-black);
    color: var(--sqdc-white);
    font-size: 0.85rem;
    text-align: center;
}

.controls {
    background-color: var(--sqdc-gray);
    padding: 1.5rem 2rem;
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    align-items: center;
    justify-content: center;
    border-bottom: 2px solid var(--sqdc-light-gray);
}

.filter-section h3 {
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
    color: var(--sqdc-light-yellow);
}

.filter-buttons {
    display: flex;
    gap: 0.75rem;
}

.filter-btn {
    background-color: var(--sqdc-light-gray);
    color: white;
    border: 2px solid transparent;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.95rem;
    transition: all 0.3s ease;
}

.filter-btn:hover {
    background-color: var(--sqdc-gray);
}

.filter-btn:focus-visible {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 2px;
}

.filter-btn.active {
    border-color: var(--sqdc-yellow);
    background-color: var(--sqdc-gray);
}

.filter-btn .icon {
    font-size: 1.2rem;
}

.indica-icon { color: var(--indica-color); }
.sativa-icon { color: var(--sativa-color); }
.oz28-icon { color: var(--oz28-color); }
.hybride-icon { color: var(--hybride-color); }

.search-section {
    flex: 1;
    max-width: 400px;
    order: -2;
    align-self: flex-end;
}

.add-product-btn {
    order: -1;
}

#searchInput {
    width: 100%;
    padding: 0.6rem 1rem;
    background-color: var(--sqdc-light-gray);
    border: 2px solid var(--sqdc-gray);
    border-radius: 4px;
    color: white;
    font-size: 1rem;
}

#searchInput:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
}

.sort-section {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.sort-section label {
    color: var(--sqdc-light-yellow);
    font-size: 0.9rem;
}

#sortSelect {
    padding: 0.6rem 1rem;
    background-color: var(--sqdc-light-gray);
    border: 2px solid var(--sqdc-gray);
    border-radius: 4px;
    color: white;
    font-size: 0.95rem;
    cursor: pointer;
}

#sortSelect:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
}

main {
    max-width: 100%;
    margin: 0 auto;
    padding: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0;
    height: calc(100vh - 200px);
    position: relative;
}

/* Zone pour les sections avec portes (en haut) */
.sections-row-doors {
    height: 50%;
    min-height: 300px;
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap !important;
    gap: 0.5rem;
    overflow-x: auto;
    overflow-y: hidden;
    position: relative;
    padding: 0.5rem 50px;
    scroll-behavior: smooth;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 8px 8px 0 0;
    border: 1px solid var(--sqdc-gray);
    border-bottom: none;
    align-items: stretch;
    align-content: flex-start;
    width: 100%;
}

/* Ensure sections in doors row don't wrap */
.sections-row-doors .strain-section {
    display: inline-flex !important;
    flex-direction: column;
}

.sections-row-doors::-webkit-scrollbar {
    display: none;
}

.sections-row-doors {
    scrollbar-width: none;
}

/* Zone pour les sections avec tiroirs (en bas) */
.sections-row-drawers {
    flex: 1;
    min-height: 300px;
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    overflow-y: hidden;
    position: relative;
    padding: 0.5rem 50px;
    scroll-behavior: smooth;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 0 0 8px 8px;
    border: 1px solid var(--sqdc-gray);
    border-top: none;
    width: 100%;
}

.sections-row-drawers::-webkit-scrollbar {
    display: none;
}

.sections-row-drawers {
    scrollbar-width: none;
}

/* Flèches de navigation pour les rangées */
.row-scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: var(--sqdc-yellow);
    font-size: 2.5rem;
    width: 40px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 200;
    border-radius: 4px;
    transition: all 0.3s ease;
    border: 2px solid var(--sqdc-yellow);
}

.row-scroll-arrow:hover {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
}

.row-scroll-arrow-left {
    left: 0;
}

.row-scroll-arrow-right {
    right: 0;
}

.strain-section {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    width: auto;
    min-width: 200px;
    max-width: none;
    flex-shrink: 0;
    flex-grow: 0;
    position: relative;
    container-type: inline-size;
    container-name: section;
}

.strain-section.hidden {
    display: none;
}

/* Resize handle for adjustable sections */
.section-resize-handle {
    position: absolute;
    top: 0;
    right: -4px;
    width: 8px;
    height: 100%;
    cursor: col-resize;
    z-index: 150;
    background: transparent;
    transition: all 0.2s ease;
}

.section-resize-handle:hover,
.section-resize-handle.active {
    background: linear-gradient(to right, transparent, var(--sqdc-yellow), transparent);
}

.section-resize-handle::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 4px;
    height: 40px;
    background: rgba(255, 215, 0, 0.5);
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.section-resize-handle:hover::before,
.section-resize-handle.active::before {
    opacity: 1;
}

.strain-section.resizing {
    user-select: none;
    pointer-events: none;
}

.strain-section.resizing * {
    user-select: none;
    pointer-events: none;
}

/* Vertical resize handle between doors and drawers rows */
.row-resize-handle {
    position: relative;
    width: 100%;
    height: 8px;
    cursor: row-resize;
    z-index: 150;
    background: transparent;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.row-resize-handle:hover,
.row-resize-handle.active {
    background: linear-gradient(to bottom, transparent, var(--sqdc-yellow), transparent);
}

.row-resize-handle::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 4px;
    background: rgba(255, 215, 0, 0.5);
    border-radius: 2px;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.row-resize-handle:hover::before,
.row-resize-handle.active::before {
    opacity: 1;
}

main.row-resizing {
    user-select: none;
}

main.row-resizing * {
    user-select: none;
    pointer-events: none;
}

main.row-resizing .row-resize-handle {
    pointer-events: auto;
}

/* Section drag and drop styles */
.strain-section.dragging-section {
    opacity: 0.5;
    cursor: grabbing;
}

.strain-section.drag-over-section {
    border-left: 4px solid var(--sqdc-yellow);
    margin-left: -4px;
}

.strain-section .section-header {
    cursor: grab;
}

.strain-section .section-header:active {
    cursor: grabbing;
}

.sections-row-doors.drag-active-row,
.sections-row-drawers.drag-active-row {
    background-color: rgba(255, 215, 0, 0.1);
}

.section-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--sqdc-yellow);
    flex-wrap: wrap;
}

/* Section statistics */
.section-stats {
    display: flex;
    gap: 0.75rem;
    margin-left: auto;
    align-items: center;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 215, 0, 0.2);
}

.section-stat {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 0.85rem;
}

.section-stat .stat-icon {
    font-size: 1rem;
}

.section-stat .stat-value {
    color: var(--sqdc-yellow);
    font-weight: bold;
    min-width: 1.5rem;
    text-align: center;
}

/* Section drawer control */
.section-drawer-control,
.section-door-control {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: auto;
    font-size: 0.9rem;
    color: var(--sqdc-light-gray);
}

.section-drawer-control label,
.section-door-control label {
    font-weight: 500;
}

.section-drawer-control input[type="number"],
.section-door-control input[type="number"] {
    width: 60px;
    padding: 0.3rem 0.5rem;
    background-color: var(--sqdc-black);
    border: 1px solid var(--sqdc-light-gray);
    border-radius: 4px;
    color: white;
    font-size: 0.9rem;
    text-align: center;
}

.section-drawer-control input[type="number"]:focus,
.section-door-control input[type="number"]:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
    box-shadow: 0 0 0 2px rgba(255, 204, 0, 0.2);
}

.subsection {
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
    min-height: 0;
}

.grid-wrapper {
    position: relative;
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    width: 100%;
}

.subsection-header {
    background-color: var(--sqdc-light-gray);
    color: var(--sqdc-light-yellow);
    padding: 0.4rem 1rem;
    font-size: 0.85rem;
    font-weight: 600;
    text-align: center;
    border-bottom: 1px solid var(--sqdc-gray);
    flex-shrink: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
}

.subsection-count {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    padding: 0.15rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
}

.indica-section .section-header {
    border-bottom-color: var(--indica-color);
}

.sativa-section .section-header {
    border-bottom-color: var(--sativa-color);
}

.hybride-section .section-header {
    border-bottom-color: var(--hybride-color);
}

.mixed-section .section-header {
    border-bottom-color: var(--sqdc-yellow);
}

.section-header h2 {
    font-size: 1rem;
    font-weight: 600;
}

.section-icon {
    font-size: 1rem;
}

.product-count {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    padding: 0.15rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: bold;
    margin-left: auto;
}

.products-grid {
    display: grid;
    grid-template-rows: repeat(4, 1fr);
    grid-auto-flow: column;
    grid-auto-columns: 70px;
    gap: 3px;
    padding: 0.5rem;
    overflow-x: auto;
    overflow-y: hidden;
    flex: 1;
    align-content: start;
    scroll-behavior: smooth;
    width: 100%;
}

/* Override for door sections - force horizontal flex layout */
.section-with-doors .products-grid {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    grid-template-rows: none !important;
    grid-auto-flow: initial !important;
    grid-auto-columns: initial !important;
    align-items: stretch;
}

/* Force flex layout for door sections - override grid */
#indica-grid-3\.5g,
#sativa-grid-3\.5g,
#hybride-grid-3\.5g,

.scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.7);
    color: var(--sqdc-yellow);
    font-size: 2rem;
    width: 40px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 100;
    border-radius: 4px;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    user-select: none;
}

.scroll-arrow.visible {
    opacity: 1;
    pointer-events: auto;
}

.scroll-arrow:hover {
    background-color: rgba(0, 0, 0, 0.9);
    color: var(--sqdc-light-yellow);
}

.scroll-arrow:focus-visible {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 2px;
}

.scroll-arrow-left {
    left: 0;
}

.scroll-arrow-right {
    right: 0;
}

/* Styles pour les grids avec portes - définis plus haut avec !important */

/* Styles spécifiques à index.html - Sections "Autres formats" - Effet Tiroir */
/* Exclure la section 28g qui n'a pas de :last-child */
.indica-section .subsection:last-child .products-grid,
.sativa-section .subsection:last-child .products-grid,
.hybride-section .subsection:last-child .products-grid {
    display: grid;
    grid-template-rows: repeat(3, auto);
    grid-auto-flow: column;
    grid-auto-columns: 180px;
    gap: 12px;
    column-gap: 16px;
    row-gap: 12px;
    padding: 16px 12px;
    position: relative;
    background: #0d0d0d;
    border-radius: 8px;
    box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.95);
    align-items: start;
}

/* Dynamic sections with doors - flex layout for vertical arrangement */
.section-with-doors .products-grid {
    gap: 16px;
    padding: 16px 12px;
    background: #0d0d0d;
    border-radius: 8px;
    box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.95);
}

/* Force doors to stay in a single horizontal row */
.section-with-doors .products-grid .door {
    display: inline-flex !important;
    float: none !important;
}

/* Dynamic sections with drawers - grid layout for horizontal arrangement */
.section-with-drawers .products-grid {
    display: grid;
    grid-template-rows: repeat(3, auto);
    grid-auto-flow: column;
    grid-auto-columns: 225px;
    gap: 4px;
    column-gap: 4px;
    row-gap: 4px;
    padding: 16px 12px;
    background: #0d0d0d;
    border-radius: 8px;
    box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.95);
    align-items: start;
    overflow-x: auto;
    overflow-y: hidden;
}

/* Drawer container */
.drawer {
    position: relative;
    width: clamp(220px, 18%, 300px);
    min-height: 110px;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    border: 2px solid #FFD700;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 8px;
    flex-shrink: 0;
    overflow: visible;
}

/* Scale drawers when section is wider */
@container section (min-width: 300px) {
    .drawer {
        width: clamp(240px, 20%, 320px);
        padding: 10px;
    }
}

@container section (min-width: 400px) {
    .drawer {
        width: clamp(260px, 22%, 350px);
        padding: 12px;
    }
}

@container section (min-width: 500px) {
    .drawer {
        width: clamp(280px, 25%, 380px);
        padding: 14px;
    }
}

.drawer:hover {
    border-color: rgba(255, 215, 0, 0.9);
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.95);
}

.drawer.open {
    min-height: 130px;
    background: linear-gradient(135deg, #353535 0%, #282828 50%, #353535 100%);
    border-color: var(--sqdc-yellow);
}

/* Drawer handle */
.drawer-handle {
    position: relative;
    width: 48px;
    height: 8px;
    background: linear-gradient(90deg, #FFD700, #FFA500);
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    margin: 8px auto 0;
    flex-shrink: 0;
}

/* Drawer labels - square cards side by side */
.drawer-labels {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    justify-content: center;
    gap: 6px;
    width: 100%;
    padding: 4px;
    flex: 1;
    overflow: visible;
}

/* Slot styling */
.slot {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 3px;
    padding: 2px;
    border-radius: 4px;
    transition: all 0.2s ease;
    overflow: visible;
}

.slot.empty {
    border: 2px dashed #ccc;
    background: rgba(0,0,0,0.02);
}

.slot.expanded-occupied {
    display: none; /* Hide occupied slots - they're covered by expanded card above */
}

.slot.drag-over {
    border-color: #4CAF50;
    background: rgba(76, 175, 80, 0.1);
}

.slot.drag-invalid {
    border-color: #f44336;
    background: rgba(244, 67, 54, 0.1);
}

.slot-empty-label,
.slot-occupied-label {
    font-size: 10px;
    color: #999;
    font-style: italic;
    text-align: center;
    pointer-events: none; /* Allow drag events to pass through to parent slot */
}

.door-slot {
    flex-direction: row; /* Allow split cards to sit side by side */
    flex-wrap: wrap; /* Wrap if needed */
    gap: 2px;
    justify-content: center;
}

/* Override for slots with expanded cards inside .door-labels grid */
.door-labels .slot {
    height: 100%; /* Fill the grid cell */
    min-height: 0; /* Allow grid to control minimum */
}

/* Slots containing expanded cards should span grid rows */
.door-labels .slot:has(.door-product-card.expand-height) {
    grid-row: span 2;
}

.door-labels .slot:has(.door-product-card.expand-height-2) {
    grid-row: span 3;
}

.drawer-slot {
    flex-direction: row;
    gap: 6px;
}

/* Empty drawer styling */
.drawer.empty {
    opacity: 0.4;
}

.drawer-empty-label {
    font-size: 10px;
    color: #666;
    font-style: italic;
    text-align: center;
}

.drawer-product-card {
    flex: 1 1 0;
    min-width: 95px;
    min-height: 95px;
    max-width: 130px;
    aspect-ratio: 1;
    border-radius: 3px;
    padding: 4px;
    transition: all 0.2s ease;
    cursor: grab;
    cursor: -webkit-grab;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: visible;
    font-size: clamp(9px, 0.75vw, 11px);
    text-align: center;
    border: 1px solid rgba(0,0,0,0.2);
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    position: relative;
    flex-shrink: 0;
}

/* Scale drawer cards when section is wider */
@container section (min-width: 300px) {
    .drawer-product-card {
        min-width: 105px;
        min-height: 105px;
        max-width: 145px;
        padding: 5px;
        font-size: clamp(10px, 0.85vw, 12px);
    }
}

@container section (min-width: 400px) {
    .drawer-product-card {
        min-width: 115px;
        min-height: 115px;
        max-width: 160px;
        padding: 6px;
        font-size: clamp(11px, 0.95vw, 13px);
    }
}

@container section (min-width: 500px) {
    .drawer-product-card {
        min-width: 125px;
        min-height: 125px;
        max-width: 175px;
        padding: 8px;
        font-size: clamp(12px, 1vw, 14px);
    }
}

/* Prevent native title tooltip from showing */
.drawer-product-card[title],
.door-product-card[title] {
    cursor: grab;
}

.drawer-product-card:active {
    cursor: grabbing;
    cursor: -webkit-grabbing;
}

.drawer-product-card:hover .product-remove-btn,
.door-product-card:hover .product-remove-btn {
    opacity: 1;
}

/* Color coding by type */
.drawer-product-card[data-type="Indica"] {
    background-color: var(--indica-color);
    color: #000;
}

.drawer-product-card[data-type="Sativa"] {
    background-color: var(--sativa-color);
    color: #000;
}

.drawer-product-card[data-type="28g"] {
    background-color: var(--oz28-color);
    color: #000;
}

.drawer-product-card[data-type="Hybride"] {
    background-color: var(--hybride-color);
    color: #fff;
}

/* Special formats (hashish, edibles, infused, oils) - brown color */
.drawer-product-card.special-format {
    background-color: #8B6914 !important;
    color: #fff !important;
}

.drawer-product-card:hover {
    transform: scale(1.05) translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
    z-index: 10000;
    font-size: 12px;
}

.drawer-product-card:focus {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 1px;
    transform: scale(1.05);
    z-index: 10000;
}

.drawer-product-name {
    font-size: inherit;
    font-weight: 700;
    line-height: 1.1;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    margin-bottom: 2px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.drawer-product-thc {
    font-size: inherit;
    font-weight: 600;
}

.drawer-thc-value {
    font-size: 11px;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.drawer-product-cbd {
    font-size: 8px;
    font-weight: 600;
    margin-top: 1px;
    opacity: 0.9;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Standalone cards (without drawer) */
.drawer-product-card.standalone {
    width: 75px;
    height: 75px;
    border: 2px solid;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 3px;
    padding: 5px;
    font-size: 8px;
    text-align: center;
    border-radius: 6px;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    cursor: pointer;
    transition: all 0.2s ease;
}

.drawer-product-card.standalone:hover {
    transform: scale(1.05) translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

/* Color variants for standalone cards */
.drawer-product-card.standalone[data-type="Indica"] {
    border-color: var(--indica-color);
    background: linear-gradient(145deg, rgba(91, 168, 212, 0.15), rgba(91, 168, 212, 0.05));
}

.drawer-product-card.standalone[data-type="Sativa"] {
    border-color: var(--sativa-color);
    background: linear-gradient(145deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05));
}

.drawer-product-card.standalone[data-type="Hybride"] {
    border-color: var(--hybride-color);
    background: linear-gradient(145deg, rgba(76, 175, 80, 0.15), rgba(76, 175, 80, 0.05));
}

.drawer-product-card.standalone[data-type="28g"] {
    border-color: var(--oz28-color);
    background: linear-gradient(145deg, rgba(255, 140, 0, 0.15), rgba(255, 140, 0, 0.05));
}

/* Drawer stock display - shown when open */
.drawer-stock-display {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 100%;
    height: 100%;
}

/* ============================================
   DOOR SYSTEM - For 3.5g and 28g sections
   ============================================ */

/* Custom fast tooltip for product cards - DISABLED: Using JavaScript tooltip instead */
.door-product-card::after,
.drawer-product-card::after {
    display: none !important;
}

.door-product-card:hover::after,
.drawer-product-card:hover::after {
    opacity: 1;
    transition-delay: 0.1s;
}

/* Hide native tooltip */
.door-product-card,
.drawer-product-card {
    position: relative;
}

/* Door container - vertical layout with 6 labels stacked */
.door {
    position: relative;
    width: clamp(120px, 12%, 180px);
    height: 100%;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    border: 2px solid #4CAF50;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    display: inline-flex;
    flex-direction: column;
    justify-content: flex-start;
    padding: 6px;
    flex-shrink: 0;
    flex-grow: 0;
    vertical-align: top;
    overflow: visible;
}

/* Scale doors when section is wider */
@container section (min-width: 300px) {
    .door {
        width: clamp(140px, 15%, 200px);
        padding: 8px;
    }
}

@container section (min-width: 400px) {
    .door {
        width: clamp(160px, 18%, 220px);
        padding: 10px;
    }
}

@container section (min-width: 500px) {
    .door {
        width: clamp(180px, 20%, 240px);
        padding: 12px;
    }
}

.door:hover {
    border-color: rgba(76, 175, 80, 0.9);
    transform: translateX(-2px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);
}

.door.open {
    min-height: 720px;
    background: linear-gradient(135deg, #353535 0%, #282828 50%, #353535 100%);
    border-color: var(--sqdc-yellow);
}

/* Empty door styling */
.door.empty {
    opacity: 0.4;
}

.door-empty-label {
    font-size: 10px;
    color: #666;
    font-style: italic;
    text-align: center;
}

.door-occupied-label {
    font-size: 10px;
    color: #999;
    font-style: italic;
    text-align: center;
    opacity: 0.6;
}

/* Empty doors/drawers - visual feedback */
.door.empty,
.drawer.empty {
    background: repeating-linear-gradient(
        45deg,
        rgba(255, 255, 255, 0.02),
        rgba(255, 255, 255, 0.02) 10px,
        rgba(255, 255, 255, 0.05) 10px,
        rgba(255, 255, 255, 0.05) 20px
    );
    border: 2px dashed rgba(255, 255, 255, 0.2);
}

.door.expanded-occupied {
    background: rgba(100, 100, 100, 0.3);
    opacity: 0.6;
    pointer-events: none;
}

/* Drag over states for slots */
.door.drag-over,
.drawer.drag-over {
    background-color: rgba(76, 175, 80, 0.2);
    border-color: #4CAF50;
    border-width: 3px;
    border-style: solid;
}

.door.drag-invalid,
.drawer.drag-invalid {
    background-color: rgba(244, 67, 54, 0.2);
    border-color: #f44336;
    border-width: 3px;
    border-style: solid;
}

/* Door handle - vertical on the side */
.door-handle {
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 48px;
    background: linear-gradient(to right, #4CAF50, #5CB85C);
    border-radius: 4px;
    box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.3);
    pointer-events: auto; /* Handle can still be clicked to open/close door */
    cursor: pointer;
}

/* Door labels - 6 cards stacked vertically */
.door-labels {
    display: grid;
    grid-template-rows: repeat(6, minmax(120px, 1fr));
    grid-auto-rows: minmax(120px, 1fr);
    gap: 2px;
    width: 100%;
    padding: 4px;
    flex: 1;
    justify-items: stretch;
    align-items: stretch;
    overflow: visible;
}

/* Door product card - individual label on door */
.door-product-card {
    width: 100%;
    height: 100%;
    border-radius: 3px;
    padding: 4px;
    transition: all 0.2s ease;
    cursor: grab;
    cursor: -webkit-grab;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: visible;
    font-size: clamp(9px, 0.75vw, 11px);
    text-align: center;
    border: 1px solid rgba(0,0,0,0.2);
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    pointer-events: auto;
    position: relative;
    flex-shrink: 0;
    z-index: 1;
}

/* Scale door cards when section is wider */
@container section (min-width: 300px) {
    .door-product-card {
        font-size: clamp(10px, 0.85vw, 12px);
        padding: 5px;
    }
}

@container section (min-width: 400px) {
    .door-product-card {
        font-size: clamp(11px, 0.95vw, 13px);
        padding: 6px;
    }
}

@container section (min-width: 500px) {
    .door-product-card {
        font-size: clamp(12px, 1vw, 14px);
        padding: 8px;
    }
}

/* Prevent child elements from blocking drag events */
.door-product-card > * {
    pointer-events: none;
}

.door-product-card:active {
    cursor: grabbing;
    cursor: -webkit-grabbing;
}

/* Color coding by type for door cards */
.door-product-card[data-type="Indica"] {
    background-color: var(--indica-color);
    color: #000;
}

.door-product-card[data-type="Sativa"] {
    background-color: var(--sativa-color);
    color: #000;
}

.door-product-card[data-type="28g"] {
    background-color: var(--oz28-color);
    color: #000;
}

.door-product-card[data-type="Hybride"] {
    background-color: var(--hybride-color);
    color: #fff;
}

/* Special formats (hashish, edibles, infused, oils) - brown color */
.door-product-card.special-format {
    background-color: #8B6914 !important;
    color: #fff !important;
}

.door-product-card:hover {
    transform: scale(1.05) translateX(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
    z-index: 10000;
    font-size: 12px;
}

.door-product-card:focus {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 1px;
    transform: scale(1.05);
    z-index: 10000;
}

.door-product-name {
    font-size: inherit;
    font-weight: 700;
    line-height: 1.1;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    margin-bottom: 2px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.door-product-thc {
    font-size: inherit;
    font-weight: 600;
}

.door-thc-value {
    font-size: 11px;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.door-product-cbd {
    font-size: 8px;
    font-weight: 600;
    margin-top: 1px;
    opacity: 0.9;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Standalone door cards (without door container) */
.door-product-card.standalone {
    width: 75px;
    height: 75px;
    border: 2px solid;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 3px;
    padding: 5px;
    font-size: 8px;
    text-align: center;
    border-radius: 6px;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    cursor: pointer;
    transition: all 0.2s ease;
}

.door-product-card.standalone:hover {
    transform: scale(1.05) translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

/* Color variants for standalone door cards */
.door-product-card.standalone[data-type="Indica"] {
    border-color: var(--indica-color);
    background: linear-gradient(145deg, rgba(91, 168, 212, 0.15), rgba(91, 168, 212, 0.05));
}

.door-product-card.standalone[data-type="Sativa"] {
    border-color: var(--sativa-color);
    background: linear-gradient(145deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05));
}

.door-product-card.standalone[data-type="Hybride"] {
    border-color: var(--hybride-color);
    background: linear-gradient(145deg, rgba(76, 175, 80, 0.15), rgba(76, 175, 80, 0.05));
}

.door-product-card.standalone[data-type="28g"] {
    border-color: var(--oz28-color);
    background: linear-gradient(145deg, rgba(255, 140, 0, 0.15), rgba(255, 140, 0, 0.05));
}

/* ============================================
   Split cards - Half width for both doors and drawers
   ============================================ */
.door-product-card.split,
.drawer-product-card.split {
    width: calc(50% - 2px) !important;
    max-width: calc(50% - 2px) !important;
    min-width: calc(50% - 2px) !important;
    display: inline-flex;
    vertical-align: top;
    margin-right: 2px;
    font-size: 9px;
}

.door-product-card.split:last-child,
.drawer-product-card.split:last-child {
    margin-right: 0;
}

.door-product-card.split .door-product-name,
.drawer-product-card.split .drawer-product-name {
    font-size: 8px;
    -webkit-line-clamp: 2;
    margin-bottom: 1px;
}

.door-product-card.split .door-thc-value,
.drawer-product-card.split .drawer-thc-value {
    font-size: 9px;
}

.door-product-card.split .door-product-cbd,
.drawer-product-card.split .drawer-product-cbd {
    font-size: 7px;
}

/* Split pair container - wraps two split cards together */
.split-pair {
    display: flex;
    gap: 2px;
    width: 100%;
}

/* ============================================
   Expanded height cards - Double height for doors only
   ============================================ */
.door-product-card.expand-height {
    width: 100%;
    font-size: clamp(11px, 0.85vw, 13px);
    padding: 6px;
    gap: 4px;
}

.door-product-card.expand-height .door-product-name {
    font-size: 12px;
    -webkit-line-clamp: 3;
    margin-bottom: 4px;
}

.door-product-card.expand-height .door-thc-value {
    font-size: 14px;
}

.door-product-card.expand-height .door-product-cbd {
    font-size: 10px;
    margin-top: 2px;
}

/* Show additional info on expanded cards */
.door-product-card.expand-height .door-product-brand {
    font-size: 10px;
    font-weight: 500;
    opacity: 0.9;
    margin-top: 2px;
}

.door-product-card.expand-height .door-product-format {
    font-size: 9px;
    font-weight: 500;
    opacity: 0.8;
    margin-top: 2px;
}

/* ============================================
   Expanded height cards - Triple height (3 slots) for doors only
   ============================================ */
.door-product-card.expand-height-2 {
    width: 100%;
    font-size: clamp(12px, 0.9vw, 14px);
    padding: 8px;
    gap: 6px;
}

.door-product-card.expand-height-2 .door-product-name {
    font-size: 13px;
    -webkit-line-clamp: 4;
    margin-bottom: 6px;
}

.door-product-card.expand-height-2 .door-thc-value {
    font-size: 16px;
}

.door-product-card.expand-height-2 .door-product-cbd {
    font-size: 11px;
    margin-top: 3px;
}

/* Show additional info on triple-expanded cards */
.door-product-card.expand-height-2 .door-product-brand {
    font-size: 11px;
    font-weight: 500;
    opacity: 0.9;
    margin-top: 3px;
}

.door-product-card.expand-height-2 .door-product-format {
    font-size: 10px;
    font-weight: 500;
    opacity: 0.8;
    margin-top: 3px;
}

/* Door stock display - shown when open */
.door-stock-display {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 100%;
    flex: 1;
    padding: 4px 0;
}

.door-stock-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: 4px 6px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 3px;
    gap: 2px;
}

.door-stock-name {
    font-size: 0.6rem;
    font-weight: 600;
    color: white;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
    text-align: center;
}

.door-stock-count {
    font-size: 0.75rem;
    font-weight: bold;
    color: var(--sqdc-yellow);
    background: rgba(255, 215, 0, 0.15);
    padding: 2px 6px;
    border-radius: 8px;
    min-width: 24px;
    text-align: center;
}

/* Show stock display when door is open */
.door.open .door-stock-display {
    display: flex;
}

.door.open .door-labels {
    display: none;
}

.door.open .door-handle {
    background: linear-gradient(to right, #f44336, #e53935);
}

.drawer-stock-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 2px 6px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 3px;
}

.drawer-stock-name {
    font-size: 0.65rem;
    font-weight: 600;
    color: white;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 1;
    margin-right: 4px;
}

.drawer-stock-count {
    font-size: 0.75rem;
    font-weight: bold;
    color: var(--sqdc-yellow);
    background: rgba(255, 215, 0, 0.15);
    padding: 2px 6px;
    border-radius: 8px;
    min-width: 24px;
    text-align: center;
}

/* Show stock display when drawer is open */
.drawer.open .drawer-stock-display {
    display: flex;
}

.drawer.open .drawer-labels {
    display: none;
}

.drawer.open .drawer-handle {
    display: none;
}

.product-card {
    aspect-ratio: 1;
    border-radius: 3px;
    padding: 4px;
    transition: all 0.2s ease;
    position: relative;
    cursor: grab;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: visible;
    font-size: 11px;
    text-align: center;
    border: 1px solid rgba(0,0,0,0.2);
    font-weight: 500;
}

.product-remove-btn {
    position: absolute;
    top: -6px;
    right: -6px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: #ff4444;
    color: white;
    border: 2px solid white;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    line-height: 1;
    opacity: 0;
    transition: all 0.2s ease;
    z-index: 50;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    pointer-events: auto;
}

.product-card:hover .product-remove-btn {
    opacity: 1;
}

.product-remove-btn:hover {
    background-color: #cc0000;
    transform: scale(1.1);
}

/* Split button - divides card width in half */
.product-split-btn {
    position: absolute;
    top: -6px;
    right: 18px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: #4a90e2;
    color: white;
    border: 2px solid white;
    font-size: 11px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    line-height: 1;
    opacity: 0;
    transition: all 0.2s ease;
    z-index: 50;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    pointer-events: auto;
}

.product-card:hover .product-split-btn,
.door-product-card:hover .product-split-btn,
.drawer-product-card:hover .product-split-btn {
    opacity: 1;
}

.product-split-btn:hover {
    background-color: #3a7bc8;
    transform: scale(1.1);
}

.product-split-btn.active {
    background-color: #2ecc71;
    opacity: 1;
}

/* Expand height button - doubles card height (doors only) */
.product-expand-btn {
    position: absolute;
    top: -6px;
    right: 42px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: #9b59b6;
    color: white;
    border: 2px solid white;
    font-size: 11px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    line-height: 1;
    opacity: 0;
    transition: all 0.2s ease;
    z-index: 50;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    pointer-events: auto;
}

.door-product-card:hover .product-expand-btn {
    opacity: 1;
}

.product-expand-btn:hover {
    background-color: #8e44ad;
    transform: scale(1.1);
}

.product-expand-btn.active {
    background-color: #e74c3c;
    opacity: 1;
}

/* Color coding by type */
.product-card[data-type="Indica"] {
    background-color: var(--indica-color);
    color: #000;
}

.product-card[data-type="Sativa"] {
    background-color: var(--sativa-color);
    color: #000;
}

.product-card[data-type="28g"] {
    background-color: var(--oz28-color);
    color: #000;
}

.product-card[data-type="Hybride"] {
    background-color: var(--hybride-color);
    color: #fff;
}

/* Special formats (hashish, edibles, infused, oils) - brown color */
.product-card.special-format {
    background-color: #8B6914 !important;
    color: #fff !important;
}

.product-card:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    z-index: 10000;
    font-size: 12px;
}

.product-card:focus {
    outline: 3px solid var(--sqdc-yellow);
    outline-offset: 2px;
    transform: scale(1.1);
    z-index: 10000;
    font-size: 9px;
}

.product-card:focus-visible {
    outline: 3px solid var(--sqdc-yellow);
    outline-offset: 2px;
}

.product-card.hidden {
    display: none;
}

/* Hidden by search/filter - keeps card in DOM and preserves its space in grid */
.product-card.card-hidden,
.door-product-card.card-hidden,
.drawer-product-card.card-hidden {
    visibility: hidden;
    pointer-events: none;
}

/* Misplaced products - products in wrong section format */
.product-card.misplaced-product,
.door-product-card.misplaced-product,
.drawer-product-card.misplaced-product {
    border: 2px solid #ff6b6b;
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 107, 107, 0.05));
    box-shadow: 0 0 8px rgba(255, 107, 107, 0.4);
}

.product-card.misplaced-product::before,
.door-product-card.misplaced-product::before,
.drawer-product-card.misplaced-product::before {
    content: '⚠️';
    position: absolute;
    top: 4px;
    left: 4px;
    font-size: 0.9rem;
    z-index: 1;
}

/* Drag and drop states */
.product-card.dragging {
    opacity: 0.5;
    cursor: grabbing;
    transform: scale(0.95);
}

.product-card.drag-over {
    border: 2px solid var(--sqdc-yellow);
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.products-grid.drag-active {
    background-color: rgba(255, 215, 0, 0.05);
}

.product-name {
    font-size: inherit;
    font-weight: 700;
    line-height: 1.2;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    margin-bottom: 2px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.product-thc {
    font-size: inherit;
    font-weight: 900;
    margin-top: 1px;
}

.thc-value {
    font-size: inherit;
    font-weight: 900;
    color: inherit;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.product-format {
    font-size: 0.85em;
    font-weight: 600;
    opacity: 0.9;
    margin-top: 1px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.product-cbd {
    font-size: 0.85em;
    font-weight: 700;
    margin-top: 1px;
    opacity: 0.95;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Tooltip for detailed info */
.product-tooltip {
    display: none;
    position: fixed;
    background-color: rgba(0, 0, 0, 0.95);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    border: 2px solid var(--sqdc-yellow);
    z-index: 1000;
    max-width: 300px;
    pointer-events: none;
}

.product-tooltip.active {
    display: block;
}

.tooltip-name {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.tooltip-brand {
    font-style: italic;
    color: var(--sqdc-light-yellow);
    margin-bottom: 0.5rem;
}

.tooltip-format {
    color: #ccc;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.tooltip-sku {
    color: #999;
    font-size: 0.85rem;
    margin-bottom: 0.75rem;
    font-family: monospace;
}

.tooltip-thc {
    display: flex;
    gap: 1rem;
    padding-top: 0.75rem;
    border-top: 1px solid #333;
}

.tooltip-thc-info {
    flex: 1;
}

.tooltip-label {
    font-size: 0.75rem;
    color: #999;
    text-transform: uppercase;
}

.tooltip-value {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--sqdc-yellow);
}

.empty-state {
    text-align: center;
    padding: 3rem;
    color: #666;
    font-size: 1.1rem;
}

/* Modal styles */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}

.modal-overlay.active {
    display: flex;
}

.modal-content {
    background-color: var(--sqdc-gray);
    border: 3px solid var(--sqdc-yellow);
    border-radius: 8px;
    padding: 2rem;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.modal-header {
    margin-bottom: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.modal-header h3 {
    color: var(--sqdc-yellow);
    font-size: 1.5rem;
    margin: 0;
    flex: 1;
}

.modal-view-image-btn {
    background-color: var(--sqdc-light-gray);
    color: white;
    border: 1px solid var(--sqdc-yellow);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.modal-view-image-btn:hover {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
}

.modal-view-image-btn span {
    font-size: 1.1rem;
}

.modal-body {
    margin-bottom: 2rem;
}

.modal-product-name {
    font-size: 1.2rem;
    font-weight: 600;
    color: white;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--sqdc-light-gray);
}

.modal-field {
    margin-bottom: 1rem;
}

.modal-field label {
    display: block;
    color: var(--sqdc-light-yellow);
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.modal-field select,
.modal-field input {
    width: 100%;
    padding: 0.75rem;
    background-color: var(--sqdc-light-gray);
    border: 2px solid var(--sqdc-gray);
    border-radius: 4px;
    color: white;
    font-size: 1rem;
}

.modal-field select:focus,
.modal-field input:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
}

.radio-group {
    display: flex;
    gap: 1rem;
}

.radio-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: white;
    font-size: 1rem;
}

.radio-label input[type="radio"] {
    width: auto;
    cursor: pointer;
    accent-color: var(--sqdc-yellow);
}

.radio-label:hover {
    color: var(--sqdc-light-yellow);
}

.modal-footer {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

.modal-btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.modal-btn-cancel {
    background-color: var(--sqdc-light-gray);
    color: white;
}

.modal-btn-cancel:hover {
    background-color: #3a3a3a;
}

.modal-btn-save {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
}

.modal-btn-save:hover {
    background-color: var(--sqdc-light-yellow);
}

.modal-btn:focus-visible {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 2px;
}

@media (max-width: 1024px) {
    main {
        grid-template-columns: 1fr;
        gap: 0.5rem;
        height: auto;
    }

    .strain-section {
        height: auto;
        margin-bottom: 1rem;
    }

    .products-grid {
        overflow-y: visible;
        max-height: 500px;
        overflow-y: auto;
    }
}

@media (max-width: 768px) {
    .controls {
        flex-direction: column;
        align-items: stretch;
        padding: 1rem;
    }

    .filter-buttons {
        flex-wrap: wrap;
    }

    .search-section {
        max-width: 100%;
    }

    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
        gap: 3px;
    }

    h1 {
        font-size: 1rem;
    }

    .sqdc-logo {
        font-size: 1.2rem;
    }

    header {
        padding: 1rem;
    }

    .section-header h2 {
        font-size: 0.9rem;
    }
}

/* Image Viewer Modal */
.image-modal-content {
    background-color: var(--sqdc-gray);
    border-radius: 8px;
    max-width: 90vw;
    max-height: 90vh;
    width: auto;
    position: relative;
    display: flex;
    flex-direction: column;
}

.image-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: 2px solid var(--sqdc-yellow);
    background-color: var(--sqdc-black);
    border-radius: 8px 8px 0 0;
}

.image-modal-header h3 {
    color: var(--sqdc-yellow);
    font-size: 1.2rem;
    margin: 0;
    flex: 1;
}

.image-modal-close {
    background: none;
    border: none;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;
    line-height: 1;
}

.image-modal-close:hover {
    color: var(--sqdc-yellow);
}

.image-modal-body {
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: auto;
    max-height: calc(90vh - 80px);
}

.image-modal-body img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
}

.image-modal-body iframe {
    width: 100%;
    height: calc(90vh - 100px);
    min-height: 600px;
    border: none;
}

.image-modal-loading {
    text-align: center;
    padding: 3rem;
    color: var(--sqdc-yellow);
}

.image-modal-loading p {
    font-size: 1.1rem;
}

.image-modal-file-selector {
    padding: 2rem;
    text-align: left;
}

.image-modal-file-selector p {
    color: var(--sqdc-yellow);
    margin-bottom: 1rem;
}

.file-list {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 1.5rem;
}

.file-list label {
    display: block;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    background-color: var(--sqdc-light-gray);
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.file-list label:hover {
    background-color: var(--sqdc-gray);
}

.file-list input[type="radio"] {
    margin-right: 0.75rem;
    cursor: pointer;
}

.file-list label.selected {
    background-color: rgba(255, 215, 0, 0.2);
    border: 1px solid var(--sqdc-yellow);
}

.image-modal-error {
    text-align: center;
    padding: 3rem;
    color: #ff6b6b;
}

.image-modal-error p {
    font-size: 1.1rem;
}

/* Edit button on product cards */
.product-card {
    position: relative;
}

.product-card-edit-btn {
    position: absolute;
    top: 4px;
    right: 4px;
    background-color: rgba(0, 0, 0, 0.7);
    border: 1px solid var(--sqdc-yellow);
    color: var(--sqdc-yellow);
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 0.75rem;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 10;
}

.product-card:hover .product-card-edit-btn {
    opacity: 1;
}

.product-card-edit-btn:hover {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
}

@media (max-width: 768px) {
    .image-modal-content {
        max-width: 95vw;
        max-height: 95vh;
    }

    .image-modal-header {
        padding: 0.75rem 1rem;
    }

    .image-modal-header h3 {
        font-size: 1rem;
    }

    .product-card-edit-btn {
        opacity: 1;
    }
}

/* ============================================
   SECTION MANAGER STYLES
   ============================================ */

.section-config-btn {
    background-color: var(--sqdc-gray);
    border: 2px solid var(--sqdc-yellow);
    border-radius: 4px;
    padding: 0.3rem 0.8rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s ease;
    color: white;
    font-size: 0.9rem;
    font-weight: 600;
}

.section-config-btn:hover {
    background-color: var(--sqdc-light-gray);
    border-color: var(--sqdc-light-yellow);
    transform: translateY(-1px);
}

.config-icon {
    font-size: 1rem;
    transition: transform 0.3s ease;
}

.section-config-btn:hover .config-icon {
    transform: rotate(90deg);
}

.store-id-btn {
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    transition: all 0.2s ease;
    color: white;
}

.store-id-btn:hover {
    background-color: var(--sqdc-light-gray);
}

.store-id-btn .edit-icon {
    opacity: 0.6;
    font-size: 0.9rem;
    transition: opacity 0.2s ease;
}

.store-id-btn:hover .edit-icon {
    opacity: 1;
}

.add-product-btn {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border: 2px solid var(--sqdc-yellow);
    border-radius: 4px;
    padding: 0.3rem 0.8rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s ease;
    font-size: 0.9rem;
    font-weight: 600;
}

.add-product-btn:hover {
    background-color: var(--sqdc-light-yellow);
    border-color: var(--sqdc-light-yellow);
    transform: translateY(-1px);
}

.add-icon {
    font-size: 1rem;
    transition: transform 0.3s ease;
}

.add-product-btn:hover .add-icon {
    transform: scale(1.2);
}

.add-product-section {
    border: 1px solid var(--sqdc-light-gray);
    border-radius: 4px;
    padding: 1rem;
    margin-bottom: 1rem;
    background-color: rgba(0, 0, 0, 0.2);
}

/* Wall Navigation */
.wall-navigation {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    align-items: center;
    padding: 1rem 2rem;
    background-color: var(--sqdc-gray);
    border-bottom: 2px solid var(--sqdc-light-gray);
    flex-wrap: wrap;
}

.wall-nav-btn {
    background-color: var(--sqdc-light-gray);
    color: white;
    border: 2px solid transparent;
    padding: 0.75rem 2rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.wall-nav-btn:hover {
    background-color: var(--sqdc-gray);
    transform: translateY(-2px);
}

.wall-nav-btn.active {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border-color: var(--sqdc-yellow);
}

/* Wall Statistics Panel */
.wall-stats {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    background-color: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    border: 1px solid var(--sqdc-light-gray);
}

.wall-stats-row {
    display: flex;
    gap: 1.5rem;
    align-items: center;
    flex-wrap: wrap;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.9rem;
    white-space: nowrap;
}

.stat-icon {
    font-size: 1.1rem;
}

.stat-label {
    color: #ccc;
    font-weight: 500;
}

.stat-value {
    color: var(--sqdc-yellow);
    font-weight: bold;
    font-size: 1rem;
    min-width: 2rem;
    text-align: right;
}

/* Section Manager Modal */
.section-manager-modal {
    max-width: 700px;
    max-height: 85vh;
    overflow-y: auto;
}

.manager-section {
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--sqdc-light-gray);
}

.manager-section:last-child {
    border-bottom: none;
}

.manager-section h4 {
    color: var(--sqdc-yellow);
    font-size: 1rem;
    margin-bottom: 1rem;
}

.section-header-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.btn-add-section {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s ease;
}

.btn-add-section:hover {
    background-color: var(--sqdc-light-yellow);
    transform: translateY(-1px);
}

.btn-add-section span {
    font-size: 1.2rem;
    font-weight: bold;
}

/* Wall Tabs */
.wall-tabs {
    display: flex;
    gap: 0.5rem;
}

.wall-tab {
    flex: 1;
    padding: 0.75rem 1rem;
    background-color: var(--sqdc-light-gray);
    color: white;
    border: 2px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s ease;
}

.wall-tab:hover {
    background-color: var(--sqdc-gray);
}

.wall-tab.active {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border-color: var(--sqdc-yellow);
}

/* Sections List */
.sections-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.section-item {
    background-color: var(--sqdc-light-gray);
    border: 1px solid var(--sqdc-gray);
    border-radius: 4px;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
    cursor: pointer;
}

.section-item:hover {
    border-color: var(--sqdc-yellow);
    transform: translateX(4px);
}

.section-item-info {
    flex: 1;
}

.section-item-name {
    font-size: 1rem;
    font-weight: 600;
    color: white;
    margin-bottom: 0.25rem;
}

.section-item-details {
    font-size: 0.85rem;
    color: #999;
}

.section-item-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.storage-controls {
    display: flex;
    gap: 0.25rem;
    background-color: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    padding: 0.2rem;
}

.btn-increase-storage,
.btn-decrease-storage {
    background-color: var(--sqdc-gray);
    color: var(--sqdc-yellow);
    border: 1px solid var(--sqdc-light-gray);
    padding: 0.3rem 0.5rem;
    border-radius: 3px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: all 0.2s ease;
    line-height: 1;
    min-width: 28px;
}

.btn-increase-storage:hover,
.btn-decrease-storage:hover {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border-color: var(--sqdc-yellow);
    transform: scale(1.1);
}

.btn-decrease-storage:disabled,
.btn-increase-storage:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.btn-delete-section {
    background-color: transparent;
    color: #ff6b6b;
    border: 1px solid #ff6b6b;
    padding: 0.4rem 0.6rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: all 0.2s ease;
    line-height: 1;
}

.btn-delete-section:hover {
    background-color: #ff6b6b;
    color: white;
    transform: scale(1.1);
}

/* Section Editor Modal */
.section-editor-modal {
    max-width: 600px;
    max-height: 85vh;
    overflow-y: auto;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    color: var(--sqdc-light-yellow);
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.form-group input[type="text"],
.form-group input[type="number"] {
    width: 100%;
    padding: 0.75rem;
    background-color: var(--sqdc-light-gray);
    border: 2px solid var(--sqdc-gray);
    border-radius: 4px;
    color: white;
    font-size: 1rem;
}

.form-group input:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
}

.form-group input:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.checkbox-group {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 0.75rem;
}

.checkbox-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: white;
    cursor: pointer;
    padding: 0.5rem;
    background-color: var(--sqdc-light-gray);
    border-radius: 4px;
    transition: all 0.2s ease;
    font-weight: 400;
}

.checkbox-group label:hover {
    background-color: var(--sqdc-gray);
}

.checkbox-group input[type="checkbox"] {
    cursor: pointer;
    accent-color: var(--sqdc-yellow);
}

/* Radio group styling for storage type selection */
.radio-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.radio-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background-color: var(--sqdc-light-gray);
    padding: 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.radio-label:hover {
    background-color: rgba(255, 215, 0, 0.05);
    border: 1px solid var(--sqdc-yellow);
}

.radio-label input[type="radio"] {
    cursor: pointer;
    accent-color: var(--sqdc-yellow);
    width: 20px;
    height: 20px;
}

/* Storage indicator styles for section headers (read-only display) */
.storage-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.9rem;
    font-weight: 500;
    background-color: rgba(0, 0, 0, 0.3);
}

.storage-indicator.storage-door {
    border-left: 3px solid var(--sqdc-yellow);
}

.storage-indicator.storage-drawer {
    border-left: 3px solid #999;
}

.help-text {
    font-size: 0.85rem;
    color: #999;
    font-style: italic;
    margin-top: 0.5rem;
}

/* Checkbox labels for format and strain selection */
.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: background-color 0.2s;
}

.checkbox-label:hover {
    background-color: rgba(255, 215, 0, 0.05);
}

.checkbox-label input[type="checkbox"] {
    cursor: pointer;
    accent-color: var(--sqdc-yellow);
    width: 18px;
    height: 18px;
}

.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    background-color: var(--sqdc-light-gray);
    padding: 0.5rem;
    border-radius: 4px;
}

.modal-btn-delete {
    background-color: #ff6b6b;
    color: white;
}

.modal-btn-delete:hover {
    background-color: #ff5252;
}

.modal-close {
    background: none;
    border: none;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;
    line-height: 1;
}

.modal-close:hover {
    color: var(--sqdc-yellow);
}

/* ============================================
   SECTION FULL EDITOR MODAL
   ============================================ */

.section-full-editor-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.98);
    z-index: 3000;
    display: flex;
    flex-direction: column;
    padding: 0;
}

.section-full-editor-header {
    background-color: var(--sqdc-black);
    border-bottom: 3px solid var(--sqdc-yellow);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.section-full-editor-header h2 {
    color: var(--sqdc-yellow);
    font-size: 1.5rem;
    margin: 0;
}

.section-full-editor-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.section-full-editor-content {
    display: flex;
    flex: 1;
    overflow: hidden;
    min-height: 0;
}

/* Canvas Area (70%) */
.section-full-editor-canvas {
    flex: 0 0 70%;
    display: flex;
    flex-direction: column;
    background-color: #0a0a0a;
    border-right: 2px solid var(--sqdc-gray);
    overflow: hidden;
}

.canvas-header {
    padding: 1rem 1.5rem;
    background-color: var(--sqdc-gray);
    border-bottom: 2px solid var(--sqdc-light-gray);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.canvas-header h3 {
    color: white;
    font-size: 1.2rem;
    margin: 0;
}

.canvas-info {
    display: flex;
    gap: 1rem;
    color: #ccc;
    font-size: 0.9rem;
}

.canvas-scroll-area {
    flex: 1;
    overflow: auto;
    padding: 2rem;
    min-height: 0;
}

.canvas-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: flex-start;
    align-content: flex-start;
}

/* Canvas grid for doors - vertical layout */
.canvas-grid.canvas-doors {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    overflow-x: auto;
    gap: 1rem;
    padding-bottom: 1rem;
}

/* Canvas grid for drawers - vertical layout (max 3 rows) */
.canvas-grid.canvas-drawers {
    display: grid;
    grid-template-rows: repeat(3, auto);
    grid-auto-flow: column;
    gap: 1rem;
    align-content: start;
}

.canvas-footer {
    padding: 1rem 1.5rem;
    background-color: var(--sqdc-gray);
    border-top: 2px solid var(--sqdc-light-gray);
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-shrink: 0;
}

.canvas-control-btn {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.95rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s ease;
}

.canvas-control-btn:hover {
    background-color: var(--sqdc-light-yellow);
    transform: translateY(-1px);
}

.canvas-control-btn:disabled {
    background-color: #666;
    color: #999;
    cursor: not-allowed;
    transform: none;
}

.canvas-stats {
    margin-left: auto;
    color: #ccc;
    font-size: 0.9rem;
}

/* Sidebar Product Palette (30%) */
.section-full-editor-sidebar {
    flex: 0 0 30%;
    display: flex;
    flex-direction: column;
    background-color: var(--sqdc-gray);
    overflow: hidden;
}

.sidebar-header {
    padding: 1rem 1.5rem;
    background-color: var(--sqdc-light-gray);
    border-bottom: 2px solid var(--sqdc-gray);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.sidebar-header h3 {
    color: var(--sqdc-light-yellow);
    font-size: 1.1rem;
    margin: 0;
}

.sidebar-count {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: bold;
}

.sidebar-search {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--sqdc-light-gray);
    flex-shrink: 0;
}

.sidebar-search input {
    width: 100%;
    padding: 0.5rem 1rem;
    background-color: var(--sqdc-light-gray);
    border: 2px solid var(--sqdc-gray);
    border-radius: 4px;
    color: white;
    font-size: 0.9rem;
}

.sidebar-search input:focus {
    outline: none;
    border-color: var(--sqdc-yellow);
}

.sidebar-filters {
    padding: 0.75rem 1.5rem;
    display: flex;
    gap: 0.5rem;
    border-bottom: 1px solid var(--sqdc-light-gray);
    flex-shrink: 0;
}

.sidebar-filter-btn {
    background-color: var(--sqdc-light-gray);
    color: white;
    border: 1px solid transparent;
    padding: 0.4rem 0.8rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.sidebar-filter-btn:hover {
    background-color: var(--sqdc-gray);
}

.sidebar-filter-btn.active {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    font-weight: 600;
}

.sidebar-palette {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 0.75rem;
    align-content: start;
}

/* Palette product card */
.palette-product-card {
    width: 100%;
    aspect-ratio: 1;
    border-radius: 4px;
    padding: 6px;
    cursor: grab;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 10px;
    text-align: center;
    border: 2px solid rgba(0,0,0,0.3);
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
    position: relative;
}

.palette-product-card:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    z-index: 10;
}

.palette-product-card:active {
    cursor: grabbing;
}

.palette-product-card.dragging-from-palette {
    opacity: 0.5;
}

.palette-product-card.already-placed {
    opacity: 0.4;
    cursor: default;
}

.palette-product-card.already-placed::after {
    content: '✓';
    position: absolute;
    top: 4px;
    right: 4px;
    background-color: #4CAF50;
    color: white;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
}

/* Color by type for palette cards */
.palette-product-card[data-type="Indica"] {
    background-color: var(--indica-color);
    color: #000;
}

.palette-product-card[data-type="Sativa"] {
    background-color: var(--sativa-color);
    color: #000;
}

.palette-product-card[data-type="Hybride"] {
    background-color: var(--hybride-color);
    color: #fff;
}

.palette-product-card.special-format {
    background-color: #8B6914 !important;
    color: #fff !important;
}

.palette-product-name {
    font-size: inherit;
    font-weight: 700;
    line-height: 1.1;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    margin-bottom: 2px;
}

.palette-product-thc {
    font-size: 11px;
    font-weight: 700;
}

/* Drop zone states in canvas */
.canvas-grid .door.drop-zone-valid,
.canvas-grid .drawer.drop-zone-valid,
.canvas-grid .slot.drop-zone-valid {
    border-color: #4CAF50;
    border-width: 3px;
    background-color: rgba(76, 175, 80, 0.15);
}

.canvas-grid .door.drop-zone-invalid,
.canvas-grid .drawer.drop-zone-invalid,
.canvas-grid .slot.drop-zone-invalid {
    border-color: #f44336;
    border-width: 3px;
    background-color: rgba(244, 67, 54, 0.15);
}

/* Empty state */
.sidebar-palette.empty::after {
    content: 'Aucun produit disponible';
    display: block;
    text-align: center;
    color: #666;
    font-style: italic;
    padding: 2rem;
    grid-column: 1 / -1;
}

.canvas-grid.empty::after {
    content: 'Aucune porte/tiroir dans cette section';
    display: block;
    text-align: center;
    color: #666;
    font-style: italic;
    padding: 3rem;
}

/* Zoom button for section headers */
.section-zoom-btn {
    background-color: transparent;
    border: 1px solid var(--sqdc-yellow);
    color: var(--sqdc-yellow);
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    margin-left: 0.5rem;
    min-width: 32px;
    height: 28px;
}

.section-zoom-btn:hover {
    background-color: var(--sqdc-yellow);
    color: var(--sqdc-black);
    transform: scale(1.05);
}

.section-zoom-btn:focus-visible {
    outline: 2px solid var(--sqdc-yellow);
    outline-offset: 2px;
}

/* Edit button for section headers - REMOVED */
